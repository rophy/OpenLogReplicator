# Debezium Server Configuration for Oracle to File
# Uses HTTP sink with a simple file-writer service

# ============================================
# Sink Configuration (HTTP -> File Writer)
# ============================================
debezium.sink.type=http
debezium.sink.http.url=http://file-writer:8080/events
debezium.sink.http.timeout.ms=5000

# ============================================
# Format Configuration
# ============================================
debezium.format.key=json
debezium.format.value=json
debezium.format.value.schemas.enable=false

# ============================================
# Source Configuration (Oracle with LogMiner)
# ============================================
debezium.source.connector.class=io.debezium.connector.oracle.OracleConnector
debezium.source.database.hostname=oracle
debezium.source.database.port=1521
debezium.source.database.user=c##dbzuser
debezium.source.database.password=dbzpwd
debezium.source.database.dbname=XE
debezium.source.database.pdb.name=XEPDB1
debezium.source.topic.prefix=oracle

# LogMiner configuration
debezium.source.database.connection.adapter=logminer
debezium.source.log.mining.strategy=online_catalog

# Tables to capture (same as OpenLogReplicator tutorial)
debezium.source.schema.include.list=USR1
debezium.source.table.include.list=USR1.ADAM.*

# Offset storage
debezium.source.offset.storage.file.filename=/debezium/data/offsets.dat
debezium.source.offset.flush.interval.ms=10000

# Schema history storage
debezium.source.schema.history.internal=io.debezium.storage.file.history.FileSchemaHistory
debezium.source.schema.history.internal.file.filename=/debezium/data/schema-history.dat

# Snapshot mode
debezium.source.snapshot.mode=initial

# ============================================
# SMT Configuration (Big5 Decoder)
# ============================================
# Transform to decode BIG5 encoded strings from US7ASCII database
debezium.transforms=big5decoder
debezium.transforms.big5decoder.type=com.example.debezium.smt.Big5DecoderTransform
debezium.transforms.big5decoder.columns=NAME
debezium.transforms.big5decoder.encoding=BIG5
